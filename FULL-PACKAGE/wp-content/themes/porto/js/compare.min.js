(function(t,e){"use strict";t=t||{},e.extend(t,{porto_comapre_add_query_arg:function(t,e){t=escape(t),e=escape(e);var o=document.location.search,i=t+"="+e,a=new RegExp("(&|\\?)"+t+"=[^&]*");return o=o.replace(a,"$1"+i),RegExp.$1||(o+=(o.length>0?"&":"?")+i),o}}),e(document).ready((function(){e("body").on("click",".wishlist_table a.compare.added",(function(o){o.preventDefault(),e("body").trigger("yith_woocompare_open_popup",{response:t.porto_comapre_add_query_arg("action",yith_woocompare.actionview)+"&iframe=true"})})),e(document).off("click",".product a.compare:not(.added)").on("click",".product a.compare:not(.added), .wishlist_table a.compare:not(.added)",(function(o){o.preventDefault(),void 0!==t.comparePopup&&t.comparePopup.initialize(e(this));var i=e(this),a={action:yith_woocompare.actionadd,id:i.data("product_id"),context:"frontend",security:yith_woocompare.add_nonce},n=e(".yith-woocompare-widget ul.products-list");i.addClass("added"),e.ajax({type:"post",url:yith_woocompare.ajaxurl.toString().replace("%%endpoint%%",yith_woocompare.actionadd),data:a,dataType:"json",success:function(t){e(".yith-woocompare-open .compare-count").each((function(){this.innerHTML=parseInt(this.innerHTML)+1}));var o="";i.data("added_icon")&&(o+='<i class="'+i.data("added_icon")+'"></i>');var a=yith_woocompare.added_label;"hide"==i.data("hide_title")&&(a=""),i.attr("href",t.table_url).html(i.data("icon_pos")?a+o:o+a),n.html(t.widget_table),"undefined"!=typeof yith_woocompare&&"yes"==yith_woocompare.auto_open&&i.trigger("click")}}).fail((function(){i.removeClass("added")}))}))})),e("body").on("click","a.yith-woocompare-open, .product a.compare.added, .wishlist_table a.compare.added",(function(){var t=window.innerWidth-document.body.clientWidth;e("html").css({overflow:"hidden","margin-right":t})})),e("body").on("yith_woocompare_open_popup",(function(){setTimeout((function(){if(e("body").find("iframe").length){var t=e("body").find("#cboxLoadedContent iframe")[0].contentWindow;t.jQuery&&t.jQuery(t).on("yith_woocompare_product_removed",(function(){e(".yith-woocompare-open .compare-count").each((function(){this.innerHTML=Math.max(0,parseInt(this.innerHTML)-1)}))}))}}),2e3)})),js_porto_vars.compare_popup&&e.extend(t,{comparePopup:{isCart:!0,popupContainer:null,$el:null,initialize:function(t){return this.$el=t,0==e(".after-loading-success-message.style-3").length?(e("body").append('<div class="after-loading-success-message style-3 d-block"></div>'),this.isCart=!1,this.popupContainer=e(".after-loading-success-message.style-3")):(this.popupContainer=e(".after-loading-success-message.style-3"),this.popupContainer.eq(0).stop().show()),this.popupContainer.data("inited")||(this.popupContainer.on("click",".compare-close",(function(){var t=e(this).closest(".success-message-container");t.removeClass("active"),setTimeout((function(){t.slideUp(300,(function(){t.remove()}))}),350)})),this.popupContainer.data("inited",!0)),this.build(),this},build:function(){var t=this;if(js_porto_vars.compare_popup){t=this;var o=e(".wishlist_table").length>0,i=o?t.$el.closest("tr"):t.$el.closest(".product"),a="string"==typeof js_porto_vars.compare_popup_title?js_porto_vars.compare_popup_title:"",n=o?i.find(".product-thumbnail a:first-child").attr("href"):i.find(".product-image>a:first-child").length>0?i.find(".product-image>a:first-child").attr("href"):"#",r=o?i.find(".product-thumbnail img").attr("src"):i.find(".product-inner .product-image img").length>0?i.find(".product-inner .product-image img").attr("src"):i.find(".product-images .owl-item.active .img-thumbnail img").attr("src"),c=o?i.find(".product-price").html():i.find(".price").html(),d=o?i.find(".product-name a").text():1==i.find(".woocommerce-loop-product__title").length?i.find(".woocommerce-loop-product__title").text():i.find(".product_title").text();if(!r&&i.find(".product-image img").length){r=i.find(".product-image img").attr("src");var p=i.find(".product-images img");i.find(".product-image").closest(".product-nav")&&p.length&&(r=p.attr("src"),p.attr("data-oi")&&(r=p.attr("data-oi")))}!d&&i.find(".product-image").length&&(d=i.find(".product-image").data("title"));var s=e('<div class="compare-msg success-message-container"><p class="compare-popup-title">'+a+'</p><div class="msg-box mb-0"><div class="msg"><div class="product-name"><a href="'+n+'"><h3 class="product-title font-weight-bold line-height-sm mb-1">'+d+'</h3></a></div><span class="price text-primary">'+c+'</span></div><img src="'+r+'" alt="'+d+'"/></div><button class="compare-close mfp-close"></button></div>');t.popupContainer.prepend(s),setTimeout((function(){s.addClass("active")}),150),setTimeout((function(){s.find(".compare-close").trigger("click")}),4e3)}return t}}})}).apply(this,[window.theme,jQuery]);