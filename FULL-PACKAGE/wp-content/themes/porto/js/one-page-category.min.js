!function(o,e){e(".porto-onepage-category.show-products .category-section .sub-category").children(".cat-item").addClass("product-col"),e(document).on("click",".porto-onepage-category .sub-category a",(function(o){var t,a,r=e(this);(t=(t=new RegExp('cat-item-([^( |")]*)',"i").exec(r.parent().attr("class")))&&unescape(t[1])||"")&&(a=r.closest(".category-details").find(".ajax-form").serialize()+"&action=porto_woocommerce_shortcodes_products&category_description=true&category="+t+"&nonce="+js_porto_vars.porto_nonce,o.preventDefault(),r.closest(".category-section").find(".woocommerce > ul.products").trigger("porto_update_products",[a,""]))}));var t=null;e(document).on("porto_theme_init",(function(){if(e(".porto-onepage-category.show-products").length&&"undefined"!=typeof bootstrap){document.body.style.position="relative",t=new bootstrap.ScrollSpy("body",{target:".porto-onepage-category.show-products .category-list",offset:o.StickyHeader.sticky_height+o.adminBarHeight()+o.sticky_nav_height+20});var a,r=0;window.addEventListener("scroll",(function(){if(e(".porto-onepage-category.show-products.ajax-load .category-section:not(.ajax-loaded)").length){var o=e(window).scrollTop();a=r>o?e(".porto-onepage-category.show-products.ajax-load .category-section:not(.ajax-loaded)").last():e(".porto-onepage-category.show-products.ajax-load .category-section:not(.ajax-loaded)").eq(0),r=e(window).scrollTop(),!a.closest(".porto-onepage-category").hasClass("loading")&&a.offset().top<=e(window).scrollTop()+.7*e(window).innerHeight()&&a.trigger("porto_load_category_products")}}),{passive:!0})}})),e(document).on("click",".porto-onepage-category.show-products .category-list .nav-link",(function(t){var a=e(e(this).attr("href"));a.length&&(t.preventDefault(),e(this).closest(".porto-onepage-category").hasClass("ajax-load")&&!a.hasClass("ajax-loaded")&&a.trigger("porto_load_category_products"),a.closest(".porto-onepage-category").addClass("moving"),e("html, body").stop().animate({scrollTop:a.offset().top-o.StickyHeader.sticky_height-o.adminBarHeight()-o.sticky_nav_height-10},600,"easeOutQuad",(function(){a.closest(".porto-onepage-category").removeClass("moving")})))})),e(document).on("porto_load_category_products",".category-section",(function(){var a=e(this),r=a.attr("id").replace("category-","");if(a.closest(".porto-onepage-category").hasClass("loading")||a.closest(".porto-onepage-category").hasClass("moving")||a.hasClass("ajax-loaded"))return!1;a.css("min-height",200),a.addClass("yith-wcan-loading"),a.children(".porto-loading-icon").length||a.append('<i class="porto-loading-icon"></i>'),a.closest(".porto-onepage-category").addClass("loading");var s=a.closest(".porto-onepage-category").find(".ajax-form").serialize()+"&action=porto_woocommerce_shortcodes_products&category_description=true&category="+r+"&nonce="+js_porto_vars.porto_nonce;e.ajax({url:o.ajax_url,data:s,type:"post",success:function(o){a.addClass("ajax-loaded"),a.append(e(o).html()),a.removeClass("yith-wcan-loading"),e(document).trigger("yith-wcan-ajax-filtered"),e(window).trigger("resize"),t&&setTimeout((function(){t.refresh()}),300),a.closest(".porto-onepage-category").removeClass("loading")}})}))}(window.theme,jQuery);